#
#
#
#
###############################################################################################################################################################
 

名称：gdk_window_create_similar_surface
原型：cairo_surface_t * gdk_window_create_similar_surface（GdkWindow * window，cairo_content_t content，int width，int height）
 
描述：
创建与给定窗口尽可能兼容的新曲面。
例如，新的表面将具有与窗口相同的后备解析度和字体选项。
通常，新的表面也将使用与窗口相同的后端，除非由于某种原因不可能。
可以使用cairo_surface_get_type（）检查返回的表面的类型。
最初的表面内容全部为0（如果内容具有透明度，则为透明度，否则为黑色）。

参数
window

使新表面相似的窗口

content
新表面的内容

width
新表面的宽度

height
新表面的高度

返回
指向新分配的表面。调用者拥有表面，并在完成后调用cairo_surface_destroy（）。
该函数总是返回一个有效的指针，但如果其他指针已经处于错误状态或发生任何其他错误，它将返回指向“nil”表面的指针。

自2.22

##############################################################################################################################################################

struct _GdkEventButton
{
  GdkEventType type;
  GdkWindow *window;
  gint8 send_event;
  guint32 time;
  gdouble x;
  gdouble y;
  gdouble *axes;
  guint state;
  guint button;
  GdkDevice *device;
  gdouble x_root, y_root;
}

/ **
 * GdkEventButton：
 
 * @type：事件的类型:
 
 	GDK_BUTTON_PRESS     // 
 	GDK_2BUTTON_PRESS		//  
 	GDK_3BUTTON_PRESS		// 
 	GDK_BUTTON_RELEASE 	// 

 * @window：收到事件的窗口。

 * @send_event：如果事件被明确发送，则为TRUE。

 * @time：以毫秒为单位的事件时间。

 * @x：指针相对于窗口的x坐标。
 * @y：指针相对于窗口的y坐标。

 * @axes：@x，@y转换为@device的轴，如果@device是鼠标，则为NULL。

 * @state :(类型GdkModifierType）：
表示修改键的状态（例如，控制，移位和Alt）和指针按钮的位掩码。请参阅#GdkModifierType。

 * @button：按下或释放的按钮，编号从1到5。
 *通常按钮1是鼠标左键，2是中间按钮，3是右按钮。在2按钮鼠标上，通常可以通过同时按住两个鼠标按钮来模拟中间按钮。
 
#define GDK_BUTTON_PRIMARY     (1)  // left key --usually
#define GDK_BUTTON_MIDDLE      (2)	// middle key
#define GDK_BUTTON_SECONDARY   (3)	// right key --usually


 * @device：事件源自的主设备。
使用gdk_event_get_source_device（）获取从设备。

 * @x_root：指针相对于屏幕根的x坐标。
 * @y_root：指针相对于屏幕根部的y坐标。
 


 *用于按钮按钮和按钮释放事件。
@type字段将是其中之一
	GDK_BUTTON_PRESS
	GDK_2BUTTON_PRESS
	GDK_3BUTTON_PRESS
	GDK_BUTTON_RELEASE
 *
 *双击和三次点击导致接收到一系列事件。
 
 *对于双击，事件的顺序将是：
 *
 *		GDK_BUTTON_PRESS
    	GDK_BUTTON_RELEASE
    	GDK_BUTTON_PRESS
 * 	GDK_2BUTTON_PRESS
 * 	GDK_BUTTON_RELEASE
 *
 *请注意，第一次点击就像正常接收一样
 *按钮按下，而第二次点击导致GDK_2BUTTON_PRESS
 
 
 *三点击与双击非常相似，
除了在第三次点击之后插入GDK_3BUTTON_PRESS。
事件的顺序是：
 *
 * GDK_BUTTON_PRESS
 * GDK_BUTTON_RELEASE
 * GDK_BUTTON_PRESS
 * GDK_2BUTTON_PRESS
 * GDK_BUTTON_RELEASE
 * GDK_BUTTON_PRESS
 * GDK_3BUTTON_PRESS
 * GDK_BUTTON_RELEASE
 *
 *要双击发生，第二个按钮按钮必须在第一个按钮的1/4秒钟内发生。对于三次点击发生，第三个按钮按钮也必须在第一个按钮按钮的1/2秒内进行。
 
 
###############################################################################################################################################################
 
void cairo_stroke_extents（cairo_t * cr，double * x1，double * y1，double * x2，double * y2）
描述：

通过给定当前路径和笔画参数的cairo_stroke（）操作，计算覆盖受影响区域（“墨迹”区域）的用户坐标中的边界框。

如果当前路径为空，则返回一个空矩形（（0,0），（0,0））。表面强度和剪切不被考虑。

请注意，如果线宽设置为完全为零，则cairo_stroke_extents（）将返回一个空矩形。

与cairo_path_extents（）对比，可以用于计算非空边界线宽接近零。

请注意，根据笔画参数，cairo_stroke_extents（）必须做更多的工作来计算精确的墨水区域，因此，如果需要非墨迹路径区域，cairo_path_extents（）可能更有利于性能。

请参阅cairo_stroke（），cairo_set_line_width（），cairo_set_line_join（），cairo_set_line_cap（），cairo_set_dash（）和cairo_stroke_preserve（）。

参数

CR
一个开罗背景

X1
范围的左边

Y1
top of 范围

X2
范围的right

Y2
范围的底部 
 
 
###############################################################################################################################################################
 
on_configure_event () 函数用于响应窗口尺寸变化事件，在其中调用 gdk_window_invalidate_rect () 函数让窗口绘图区域失效，并产生窗口重绘制事件（即 expose 事件）。

 
名称：gdk_window_invalidate_region
原型：void gdk_window_invalidate_region
 （GdkWindow * window，const cairo_region_t * region，gbooleaninvalidate_children）
描述：

将区域添加到窗口的更新区域。更新区域是需要重新绘制的区域，或“脏区域”。

 调用gdk_window_process_updates（）将一个或多个暴露事件发送到窗口，该窗口一起覆盖整个更新区域。

应用程序通常会重新绘制窗口的内容以响应这些暴露事件。

当您的程序返回到主循环并且变为空闲时，GDK将代表您调用gdk_window_process_all_updates（），因此通常不需要手动执行，您只需要使您知道的区域无效再重新绘制。

invalidate_children参数控制与区域相交的每个子窗口的区域是否也将无效。

如果为FALSE，则子窗口的更新区域将不会受到影响。

 如果您需要对哪些孩子无效的细粒度控制，请参阅gdk_window_invalidate_maybe_recurse。

参数

窗口
一个GdkWindow

地区
一个cairo_region_t

invalidate_children
TRUE也可以使子窗口无效
 
###############################################################################################################################################################
 
名称：cairo_get_current_point
原型：void cairo_get_current_point（cairo_t * cr，double * x，double * y）
描述：

获取当前路径的当前点，这在概念上是目前路径达到的最终点。
当前点在用户空间坐标系中返回。

如果没有定义的当前点，或者如果cr处于错误状态，则x和y都将被设置为0.0。可以使用cairo_has_current_point（）提前检查。
 
大多数路径构造函数改变了当前的点。有关它们如何影响当前点的详细信息，请参阅以下内容：
cairo_new_path（）
cairo_new_sub_path（）
cairo_append_path（）
 cairo_close_path（）
 cairo_move_to（）
 cairo_line_to（）
 cairo_curve_to（）
cairo_rel_move_to（）
 cairo_rel_line_to（）
cairo_rel_curve_to（）
cairo_arc（）
 cairo_arc_negative（）
 cairo_rectangle（）
 cairo_text_path（）
 cairo_glyph_path（）
cairo_stroke_to_path（） 
 
 
 
###############################################################################################################################################################

名称：cairo_push_group
原型：void cairo_push_group（cairo_t * cr）
描述：

暂时
将绘图重定向到称为组的中间表面。
重定向持续到通过调用cairo_pop_group（）或cairo_pop_group_to_source（）完成该组。
这些调用将任何绘图的结果提供给组作为模式（作为显式对象或设置为源模式）。

该组功能可以方便执行中间合成。
组的一个常见用途是将对象在组内呈现为不透明的（以便它们彼此闭合），然后将结果与半透明结合到目标上。

通过对cairo_push_group（）/ cairo_pop_group（）进行平衡调用，组可以任意深入嵌套。
每个呼叫将新的目标组推送到/从堆栈中弹出。

cairo_push_group（）函数调用cairo_save（），以使对图形状态的任何更改在组外都不可见（pop_group函数调用cairo_restore（））。
默认情况下，中间组的内容类型为CAIRO_CONTENT_COLOR_ALPHA。

可以通过使用cairo_push_group_with_content（）来为组选择其他内容类型。
例如，这里是如何用半透明填充和描边路径，但没有任何部分的填充在笔画下可见：
cairo_push_group（cr）;
cairo_set_source（cr，fill_pattern）;
cairo_fill_preserve（cr）;
cairo_set_source（cr，stroke_pattern）;
cairo_stroke（cr）;
cairo_pop_group_to_source（cr）;
cairo_paint_with_alpha（cr，alpha）;

参数
cr
一个cairo背景

###############################################################################################################################################################

名称：cairo_set_source
原型：void cairo_set_source（cairo_t * cr，cairo_pattern_t * source）
描述：

将cr中的源模式设置为源。

  然后，此模式将用于任何后续绘制操作，直到设置了新的源模式。

注意：模式的转换矩阵将被锁定到cairo_set_source（）时有效的用户空间。

这意味着对当前变换矩阵的进一步修改将不会影响源模式。

  请参阅cairo_pattern_set_matrix（）。

默认的源码模式是一个不透明的黑色的实体模式（也就是说，它等价于cairo_set_source_rgb（cr，0.0，0.0，0.0））。

参数
cr
一个cairo背景

source
一个cairo_pattern_t用作后续绘图操作的源。

###############################################################################################################################################################

名称：cairo_set_dash
原型：void cairo_set_dash（cairo_t * cr，constdouble * dashes，intnum_dashes，double offset）
描述：

设置cairo_stroke（）使用的破折号模式。
 破折号模式由破折号指定，正数值的数组。
每个值提供行程的交替“开”和“关”部分的长度。
偏移指定笔画开始的图案的偏移量。
每个“开”段都将使用上限，就像该段是单独的子路径一样。特别地，使用CAIRO_LINE_CAP_ROUND或CAIRO_LINE_CAP_SQUARE的“on”长度为0.0是有效的，以沿着路径分布点或正方形。

注意：长度值是用户空间单位，如在抚摸时评估的。这不一定与cairo_set_dash（）时的用户空间相同。

如果num_dashes为0，则禁用破折号。
如果num_dashes为1，则假定使用交替的开和关部分，以破折号中的单个值指定的大小。
如果破折号中的任何值为负，或者所有值为0，则cr将被置于状态为CAIRO_STATUS_INVALID_DASH的错误状态。

参数

CR
一个开罗背景

dash
一个数组，用于指定开/关行程部分的交替长度

num_dashes
破折号数组的长度

offset
开始破折号模式的偏移
 
###############################################################################################################################################################

 
 
###############################################################################################################################################################
 
###############################################################################################################################################################
 
###############################################################################################################################################################
 
###############################################################################################################################################################
 
###############################################################################################################################################################
 
###############################################################################################################################################################
 
###############################################################################################################################################################
 
###############################################################################################################################################################
 
###############################################################################################################################################################
 
###############################################################################################################################################################
 
###############################################################################################################################################################
 
###############################################################################################################################################################
 
###############################################################################################################################################################
 
###############################################################################################################################################################
 
###############################################################################################################################################################
 
###############################################################################################################################################################
 
###############################################################################################################################################################
 
###############################################################################################################################################################
 
###############################################################################################################################################################
 
###############################################################################################################################################################
 
###############################################################################################################################################################
 
###############################################################################################################################################################
 
###############################################################################################################################################################
 
###############################################################################################################################################################
 
###############################################################################################################################################################
 
###############################################################################################################################################################
 
###############################################################################################################################################################
 
###############################################################################################################################################################
 
###############################################################################################################################################################
 
###############################################################################################################################################################
 
###############################################################################################################################################################
 
###############################################################################################################################################################
 
###############################################################################################################################################################
 
###############################################################################################################################################################
 
###############################################################################################################################################################
 
###############################################################################################################################################################
 
###############################################################################################################################################################
 
###############################################################################################################################################################
 
###############################################################################################################################################################
 
###############################################################################################################################################################
 
###############################################################################################################################################################
 
###############################################################################################################################################################
 
###############################################################################################################################################################
 
###############################################################################################################################################################
 
###############################################################################################################################################################
 
###############################################################################################################################################################
 
###############################################################################################################################################################
 
###############################################################################################################################################################
 
###############################################################################################################################################################
 
###############################################################################################################################################################
 
###############################################################################################################################################################
 
###############################################################################################################################################################
 
###############################################################################################################################################################
 
###############################################################################################################################################################
 
###############################################################################################################################################################
 
###############################################################################################################################################################
 
###############################################################################################################################################################
 
###############################################################################################################################################################
 
###############################################################################################################################################################
 
###############################################################################################################################################################
 
###############################################################################################################################################################
 
###############################################################################################################################################################
 
###############################################################################################################################################################
 
###############################################################################################################################################################
 
###############################################################################################################################################################
 
###############################################################################################################################################################
 
###############################################################################################################################################################
 
###############################################################################################################################################################
 
###############################################################################################################################################################
 
###############################################################################################################################################################
 
###############################################################################################################################################################
 
###############################################################################################################################################################
 
 
 
 
 
 
 